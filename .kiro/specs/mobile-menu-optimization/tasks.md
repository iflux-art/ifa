# 移动菜单优化实施计划

- [x] 1. 重构 Web 应用移动菜单为全屏卡片布局





  - [x] 1.1 更新 Web 应用移动菜单面板结构


    - 修改 apps/web/src/components/layout/navbar/mobile-menu.tsx
    - 实现全屏覆盖层和背景模糊效果
    - 确保汉堡菜单和 X 按钮位置完全一致
    - _需求: 1.1, 1.2, 1.3, 1.4_



  - [x] 1.2 实现 Web 应用导航卡片布局





    - 创建 12 列网格布局，每行显示 2 张导航卡片
    - 将现有导航项转换为卡片形式
    - 添加卡片悬停和点击效果


    - _需求: 2.1, 2.2, 2.3, 2.4_

  - [x] 1.3 实现 Web 应用响应式断点控制





    - 确保移动菜单仅在 md 断点（768px）以下显示
    - 确保主导航仅在 md 断点以上显示
    - 实现 JavaScript 断点检测和条件渲染
    - 添加 CSS 媒体查询控制显示/隐藏
    - _需求: 1.1, 1.2, 1.3, 1.4, 2.4_

  - [x] 1.4 添加 Web 应用移动菜单可访问性支持





    - 实现 ESC 键关闭、键盘导航和焦点管理
    - 添加正确的 ARIA 属性和角色
    - 优化触摸交互和响应式设计
    - _需求: 5.1, 5.2, 5.3, 5.4_

- [x] 2. 重构 Blog 应用移动菜单并集成侧边栏内容




  - [x] 2.1 更新 Blog 应用移动菜单面板结构


    - 修改 apps/blog/src/components/navbar/mobile-menu.tsx
    - 实现全屏覆盖层和背景模糊效果
    - 确保汉堡菜单和 X 按钮位置完全一致
    - _需求: 1.1, 1.2, 1.3, 1.4_

  - [x] 2.2 在 Blog 应用中集成侧边栏内容到移动菜单


    - 在移动菜单上方添加侧边栏内容区域
    - 实现 12 列网格布局，侧边栏每行显示 1 张卡片
    - 按顺序集成：table-of-contents、blog-category-card、tag-cloud-card、related-posts-card、latest-posts-card
    - _需求: 3.1, 3.2, 3.3_

  - [x] 2.3 实现 Blog 应用导航卡片布局


    - 在侧边栏内容下方添加导航卡片区域
    - 创建 12 列网格布局，导航每行显示 2 张卡片
    - 确保导航内容与主导航栏一致
    - _需求: 2.1, 2.2, 2.3, 2.4_

  - [ ] 2.4 实现 Blog 应用响应式断点控制
    - 确保移动菜单和集成侧边栏仅在 md 断点以下显示
    - 确保主导航和桌面侧边栏仅在 md 断点以上显示
    - 实现条件渲染逻辑，避免内容重复
    - _需求: 1.1, 1.2, 1.3, 1.4, 3.1, 3.2_

  - [x] 2.5 优化 Blog 应用移动菜单交互
    - 实现点击侧边栏和导航链接关闭菜单
    - 添加可访问性支持和键盘导航
    - 优化触摸交互和滚动性能
    - _需求: 3.4, 5.1, 5.2, 5.3, 5.4_

- [x] 3. 重构 Hub 应用移动菜单并集成侧边栏内容




  - [x] 3.1 更新 Hub 应用移动菜单面板结构


    - 修改 apps/hub/src/components/navbar/mobile-menu.tsx
    - 实现全屏覆盖层和背景模糊效果
    - 确保汉堡菜单和 X 按钮位置完全一致
    - _需求: 1.1, 1.2, 1.3, 1.4_

  - [x] 3.2 在 Hub 应用中集成侧边栏内容到移动菜单


    - 在移动菜单上方添加 Hub 侧边栏内容区域
    - 实现 12 列网格布局，侧边栏每行显示 1 张卡片
    - 集成现有的 Hub 分类导航组件
    - _需求: 4.1, 4.2_

  - [x] 3.3 实现 Hub 应用导航卡片布局

    - 在侧边栏内容下方添加导航卡片区域
    - 创建 12 列网格布局，导航每行显示 2 张卡片
    - 确保导航内容与主导航栏一致
    - _需求: 2.1, 2.2, 2.3, 2.4_

  - [ ] 3.4 实现 Hub 应用响应式断点控制
    - 确保移动菜单和集成侧边栏仅在 md 断点以下显示
    - 确保主导航和桌面侧边栏仅在 md 断点以上显示
    - 实现 Hub 分类的响应式显示逻辑
    - _需求: 1.1, 1.2, 1.3, 1.4, 4.1, 4.2_

  - [x] 3.5 优化 Hub 应用移动菜单交互
    - 实现点击侧边栏和导航链接关闭菜单
    - 优化分类树的展开/折叠逻辑
    - 添加可访问性支持和触摸优化
    - _需求: 4.3, 5.1, 5.2, 5.3, 5.4_

- [ ] 4. 性能优化和用户体验改进
  - [ ] 4.1 为所有应用添加动画和过渡效果
    - 在 Web、Blog、Hub 应用中实现流畅的面板打开/关闭动画
    - 添加卡片悬停和点击动画效果
    - 优化滚动性能和动画帧率
    - _需求: 6.1, 6.3_

  - [ ] 4.2 实现懒加载和性能优化
    - 对侧边栏组件实现按需加载
    - 优化图标组件的导入方式
    - 减少初始包大小和加载时间
    - _需求: 6.2_

  - [ ]* 4.3 编写性能测试
    - 测试首次渲染时间和重渲染性能
    - 验证动画流畅度和内存使用
    - 检查低端设备的性能表现
    - _需求: 6.1, 6.2, 6.3, 6.4_

- [ ] 5. 错误处理和降级逻辑
  - [ ] 5.1 为所有应用实现错误边界
    - 在 Web、Blog、Hub 应用中创建移动菜单错误边界
    - 实现侧边栏数据加载失败的降级逻辑
    - 添加网络错误和重试机制
    - _需求: 所有需求的错误处理_

  - [ ] 5.2 添加加载状态和占位符
    - 实现侧边栏内容的加载状态
    - 添加骨架屏和占位符组件
    - 优化首次加载的用户体验
    - _需求: 6.2_

  - [ ]* 5.3 编写集成测试
    - 测试跨组件交互和数据流
    - 验证不同应用类型的菜单功能
    - 检查错误处理和降级逻辑
    - _需求: 所有需求_

- [ ] 6. 最终验证和文档
  - [ ] 6.1 进行跨应用一致性验证
    - 验证 Web、Blog、Hub 应用移动菜单的视觉一致性
    - 测试交互行为的统一性
    - 确保按钮位置和动画效果完全一致
    - _需求: 1.1, 1.2, 1.3, 1.4_

  - [ ] 6.2 完成最终测试和验收
    - 在所有子应用中测试移动菜单功能
    - 验证需求文档中的所有验收标准
    - 进行跨浏览器和设备兼容性测试
    - _需求: 所有需求验证_