/**
 * 代码高亮自定义样式
 * 使用 CSS 变量支持浅色/深色模式
 * 整体使用黑白灰配色，代码高亮使用多彩色
 */

/* 调整行号样式 */
.line-numbers .line-numbers-rows {
	border-right: 1px solid;
	padding-right: 10px;
	opacity: 0.7;
}

/* 浅色模式下的行号竖线颜色 - 使用 CSS 变量 */
:root:not(.dark) .line-numbers .line-numbers-rows {
	border-right-color: var(--border);
}

/* 深色模式下的行号竖线颜色 - 使用 CSS 变量 */
.dark .line-numbers .line-numbers-rows {
	border-right-color: var(--border);
}

/* 调整代码块边距和样式 */
pre[class*="language-"] {
	margin: 0;
	padding: 1.5rem;
	font-size: 0.9rem;
	line-height: 1.5;
	border-radius: 0.5rem;
	overflow: auto;
	max-height: 600px;
	font-family:
		"JetBrains Mono", "Fira Code", "Cascadia Code", "Roboto Mono", monospace;
	position: relative;
	z-index: 10;
}

/* 浅色模式下的代码颜色 - 多彩色 */
:root:not(.dark) .token.comment,
:root:not(.dark) .token.prolog,
:root:not(.dark) .token.doctype,
:root:not(.dark) .token.cdata {
	color: oklch(45% 0.12 150); /* 绿色注释 */
}

:root:not(.dark) .token.punctuation {
	color: oklch(35% 0.02 265);
}

:root:not(.dark) .token.property,
:root:not(.dark) .token.tag,
:root:not(.dark) .token.boolean,
:root:not(.dark) .token.number,
:root:not(.dark) .token.constant,
:root:not(.dark) .token.symbol {
	color: oklch(55% 0.18 20); /* 橙红色 */
}

:root:not(.dark) .token.selector,
:root:not(.dark) .token.attr-name,
:root:not(.dark) .token.string,
:root:not(.dark) .token.char,
:root:not(.dark) .token.builtin {
	color: oklch(55% 0.15 145); /* 绿色字符串 */
}

:root:not(.dark) .token.operator,
:root:not(.dark) .token.entity,
:root:not(.dark) .token.url,
:root:not(.dark) .language-css .token.string,
:root:not(.dark) .style .token.string {
	color: oklch(45% 0.12 45); /* 棕色操作符 */
	background: transparent;
}

:root:not(.dark) .token.atrule,
:root:not(.dark) .token.attr-value,
:root:not(.dark) .token.keyword {
	color: oklch(55% 0.15 260); /* 蓝色关键字 */
}

:root:not(.dark) .token.function {
	color: oklch(55% 0.18 340); /* 紫红色函数 */
}

:root:not(.dark) .token.regex,
:root:not(.dark) .token.important,
:root:not(.dark) .token.variable {
	color: oklch(60% 0.18 40); /* 橙色重点 */
}

:root:not(.dark) .token.punctuation {
	color: oklch(30% 0.02 265);
}

:root:not(.dark) .token.template-string .token.string,
:root:not(.dark) .token.template-punctuation {
	color: oklch(30% 0.02 265);
}

:root:not(.dark) .token.interpolation,
:root:not(.dark) .token.interpolation-punctuation {
	color: oklch(50% 0.03 265);
}

:root:not(.dark) .token.template-string .token.interpolation {
	color: oklch(45% 0.15 25);
}

:root:not(.dark) .token.template-string .token.interpolation-punctuation {
	color: oklch(45% 0.15 25);
}

:root:not(.dark) code[class*="language-"] {
	color: oklch(25% 0.02 265);
}

.token.important,
.token.bold {
	font-weight: bold;
}

.token.italic {
	font-style: italic;
}

/* 深色模式下的代码颜色 - 多彩色，更鲜艳 */
.dark .token.comment,
.dark .token.prolog,
.dark .token.doctype,
.dark .token.cdata {
	color: oklch(60% 0.12 150); /* 亮绿色注释 */
}

.dark .token.punctuation {
	color: oklch(70% 0.02 265);
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol {
	color: oklch(75% 0.15 120); /* 浅绿色数字 */
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin {
	color: oklch(75% 0.15 25); /* 橙红色字符串 */
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
	color: oklch(70% 0.02 265);
	background: transparent;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
	color: oklch(70% 0.15 220); /* 蓝色关键字 */
}

.dark .token.function {
	color: oklch(80% 0.15 80); /* 黄色函数 */
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
	color: oklch(70% 0.18 20); /* 红色重点 */
}

.dark code[class*="language-"] {
	color: oklch(92% 0 0);
}

/* 深色模式强制样式 - 放在最后确保优先级 */
.dark pre[class*="language-"],
pre[class*="language-"] {
	text-shadow: none;
	background-color: transparent;
}

/* 代码块背景 - 使用 CSS 变量 */
pre[class*="language-"] {
	background-color: var(--muted);
}

/* 代码块滚动条样式 */
pre::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

pre::-webkit-scrollbar-track {
	background: oklch(30% 0.02 265 / 10%);
	border-radius: 4px;
}

pre::-webkit-scrollbar-thumb {
	background: oklch(60% 0.02 265 / 30%);
	border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
	background: oklch(60% 0.02 265 / 50%);
}

/* 禁用Firefox和Edge的默认滚动条样式 */
pre {
	scrollbar-width: thin;
	scrollbar-color: oklch(60% 0.02 265 / 30%) oklch(30% 0.02 265 / 10%);
}
